
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modal with Crisp Chat, Tips, and Info Tabs</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-color: #f0f0f0;
    }
    .tab-content {
      height: 100vh;
      overflow: auto;
    }
    .chat-iframe, .payment-iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    .info-content {
      font-size: 16px;
      line-height: 1.6;
    }
    .info-content sub {
      font-size: 14px;
      display: block;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <button class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#chatModal">CHAT</button>

  <div class="modal fade" id="chatModal" tabindex="-1" aria-labelledby="chatModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
    
        <div class="modal-body">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="chat-tab" data-bs-toggle="tab" data-bs-target="#chat" type="button" role="tab" aria-controls="chat" aria-selected="true">Chat</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="tips-tab" data-bs-toggle="tab" data-bs-target="#tips" type="button" role="tab" aria-controls="tips" aria-selected="false">Tips</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="info-tab" data-bs-toggle="tab" data-bs-target="#info" type="button" role="tab" aria-controls="info" aria-selected="false">Info</button>
            </li>
          </ul>
          <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="chat" role="tabpanel" aria-labelledby="chat-tab">
              <iframe class="chat-iframe" id="chatIframe" srcdoc='
                <!DOCTYPE html>
                <html lang="en">
                <head>
                  <meta charset="UTF-8">
                  <meta name="viewport" content="width=device-width, initial-scale=1.0">
                  <title>Crisp Chat</title>
                  <style>
                    body {
                      margin: 0;
                      padding: 0;
                      overflow: hidden;
                    }
                    #crisp-chatbox {
                      width: 100%;
                      height: 100%;
                    }
                  </style>
                  <script type="text/javascript">
                    window.$crisp = [];
                    window.CRISP_WEBSITE_ID = "83de79f1-1180-4cbd-a605-394ac7bb8c34";
                    (function() {
                      var d = document;
                      var s = d.createElement("script");
                      s.src = "https://client.crisp.chat/l.js";
                      s.async = 1;
                      d.getElementsByTagName("head")[0].appendChild(s);
                    })();
                    // Open chat when iframe is loaded or tab is activated
                    window.addEventListener("load", function() {
                      setTimeout(function() {
                        if (window.$crisp) {
                          window.$crisp.push(["do", "chat:open"]);
                        }
                      }, 1000); // Delay to ensure Crisp is loaded
                    });
                  </script>
                </head>
                <body>
                  <div id="crisp-chatbox"></div>
                </body>
                </html>
              '></iframe>
            </div>
            <div class="tab-pane fade" id="tips" role="tabpanel" aria-labelledby="tips-tab">
              <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
  <input type="hidden" name="cmd" value="_s-xclick" />
  <input type="hidden" name="hosted_button_id" value="94EFKHDSXWJ26" />
  <table>
    <tr>
      <td>
        <input type="hidden" name="on0" value="What are you buying?"/>
        What are you buying?
      </td>
    </tr>
    <tr>
      <td>
        <select name="os0">
          <option value="Small reading">
            Small reading $2.00 USD
          </option>
          <option value="One question">
            One question $5.00 USD
          </option>
          <option value="Two question + energy reading">
            Two question + energy reading $10.00 USD
          </option>
          <option value="General - multiple ">
            General - multiple  $20.00 USD
          </option>
        </select>
      </td>
    </tr>
  </table>
  <input type="hidden" name="currency_code" value="USD" />
  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_buynow_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Buy Now" />
</form>
            </div>
            <div class="tab-pane fade" id="info" role="tabpanel" aria-labelledby="info-tab">
              <div class="info-content p-3 text-center">
                <p>Use private chat to ask. Your live reading starts after tip, and your messages stay private. The higher the tip, the deeper and more detailed your reading will be.</p>
                <sub>Random tip amount - ??</sub><br>
                <sub>$5 – one question, yes/no</sub><br>
                <sub>$10 – two questions, more in depth + oracle cards and free energy reading.</sub><br>
                <sub>$20 – general reading up to 30 minutes, for ex. what lies in front of me, my future, next month, love situation and similar</sub>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS and Popper.js -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
  <script>
    // Listen for tab activation
    document.getElementById('chat-tab').addEventListener('shown.bs.tab', function () {
      const chatIframe = document.getElementById('chatIframe');
      const iframeWindow = chatIframe.contentWindow;
      // Ensure Crisp is loaded and open the chat
      setTimeout(function() {
        if (iframeWindow.$crisp) {
          iframeWindow.$crisp.push(['do', 'chat:open']);
        }
      }, 1000); // Delay to ensure Crisp is loaded
    });
  </script>
</body>
</html>
